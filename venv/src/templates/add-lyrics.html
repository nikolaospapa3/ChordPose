<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add lyrics</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div id="add-song" class="expand">
        <!-- here will be the form ... -->
        <form id="create-song" method="post" onsubmit="return(validate());" >
            
            <output id="message"></output>

            <fieldset>
                <legend> New Song </legend>
            
            <label for="song-name" class="info"> *Song Name: </label>
            <input type="text" list="songs" id="song-name" name="title" value="{{title}}" required size="40" autocomplete="off"> 
            <datalist id="songs"> 
                <select name="song" id="song">
                     {% for song in songs %}
                     <option value="{{song}}">{{song}}</option>
                     {% endfor%}
                </select>
                </datalist>
            
                <!-- web scrape from greek lyrics -->
                <button type="submit" onclick="setButtonStatus('find-lyrics')"> Find lyrics </button>  
                from <a href="https://www.greeklyrics.gr/"> www.greeklyrics.gr</a>
                
                
            <br>
            
            <label for="composer" class="info"> Music by: </label>
            <input type="text" list="all_composers" id="composer" value="{{composers}}" name="composer" placeholder="π.χ. Θεοδωράκης Μίκης" size="40"> 
            <datalist id="all_composers">
                <select>
                     {% for comp in all_composers %}
                     <option value="{{comp}}">{{comp}}</option>
                     {% endfor%}
                </select>
                </datalist>
            <br>
            
            <label for="lyricist" class="info"> Lyrics by: </label>
            <input type="text" list="all_lyricists" id="lyricist" value="{{lyricists}}" name="lyricist" placeholder="π.χ. Ρίτσος Γιάννης" size="40"> 
            <datalist id="all_lyricists">
                <select>
                     {% for lyr in all_lyricists %}
                     <option value="{{lyr}}">{{lyr}}</option>
                     {% endfor%}
                </select>
                </datalist>
            <br>

            <label for="lyrics" class="info"> *Lyrics: </label>
            <textarea  id="lyrics" name="lyrics" cols="50" rows="20" >{{lyrics}}</textarea> <br>
            </fieldset>

            <input type="submit" value="Submit song" onclick="setButtonStatus('submit')"> <br> <br> <br>
            <input type="submit" style="color: purple;" value="Massive song submit" onclick="setButtonStatus('massive-submit')"> <br>

            <input id="button-info" style="display: none;" name="button-info" value="">
        </form>

        &emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp; <button onclick="nextInList()"> Next song in saved list (in the code) </button>
        <br><a href='/'>Home</a> <br>
    </div>
</body>
<script>
    function setButtonStatus(status){
        let info = document.querySelector('input#button-info').value;
        console.log(info);
        info = status;
        console.log(info);
        document.querySelector('input#button-info').value = info;
    }

let songs_list = `Απόψε λέω να μην κοιμηθούμε
Δεν ζητάω πολλά
Που να βρω μια να σου μοιάζει
Που να βρω γυναίκα να σου μοιάζει
Ας ερχόσουν για λίγο
Εσένα που σε ξέρω τόσο λίγο
Τι έπαιξα στο Λαύριο
Κάποτε θα 'ρθουν
Να μ'αγαπάς
Μια βραδιά στο λούκι
Πικρία
Θεσσαλονίκη
Πες μου μια λέξη
Γυρίζω τις πλάτες μου στο μέλλον
Φανή
Αεροπλάνα
Σαπιοκάραβο
Ένας Τούρκος στο Παρίσι
Μάτια δίχως λογική
Φύλακας Άγγελος
Σ αγαπάω
Κάτι να γυαλίζει
Ήτανε μια φορά
Η μπαλάντα του κυρ Μέντιου
Νύχτωσε νύχτα
Μη μιλάς άλλο για αγάπη
Άρνηση
Στρώσε το στρώμα σου
Το Άγαλμα
Μεθυσε αποψε το κοριτσι μου
Το δίχτυ
Τσιγάρο ατέλειωτο
Πριγκηπέσα
Εκεί στο Νότο
Μη γυρίσεις
Οι παλιες αγαπες πανε στον παραδεισο
Πυροσβεστήρας
Εξαιρέσεις
Το φιλαράκι
Κακές συνήθειες
Wonderful Tonight
Τα ήσυχα βράδια
Καθρέφτης
Ένας σκύλος στο κολωνάκι
Ο κόσμος που αλλάζει
Μπαγάσας
Φλασάκι
Μάτια βουρκωμένα
Φραγκοσυριανή
Αργοσβήνεις μόνη
Δεν θα ξαναγαπήσω
Ρόζα
Δεν ξέρω πόσο σ' αγαπώ
Αγάπη που 'γινες δίκοπο μαχαίρι
Ξημερώνει Κυριακή
Καμαρούλα
Μπαλάντα του Ούρι
Γέλα πουλί μου 
Δημοσθενους λεξις
Περσείδες
Ανδρομέδα
Πούλα με
Ταξίδι
Μίλησέ μου
Μαργαριτα Μαργαρώ
Μια πόλη μαγική
Μάρκος και Άννα
Κι όλο σερφάρω
Σκόνη
Έτσι κι αλλιώς
Κηπουρός
Το καλοκαιράκι
Δεν κάνει κρύο στην Ελλάδα
Μισή πίστη
Στα είπα όλα
Ωδή στον Γεώργιο Καραϊσκάκη
Μ' αρέσει να μη λέω πολλά
Στην Κ
Πάντα γελαστοί
Παραμύθι με λυπημένο τέλος
Πεχλιβάνης
Κεμάλ
Στην Πόλυ
Με την πρώτη σταγόνα της βροχής
Σιωπή
Μιλώ για σένα
Αεροπλάνα και βαπόρια 
Έκλαψα χθες
Χρυσοπράσινο φύλλο
Η αγάπη θέλει δύο
Άσπρη μέρα`.split('\n');

let i = 0; 
function nextInList(){
    let x = document.querySelector("input#song-name").value;
    if (i==0 && x!='') i = songs_list.indexOf(x) + 1 ;
    document.querySelector("input#song-name").value = songs_list[ i % songs_list.length ];
    i++;
}
</script>
</html>